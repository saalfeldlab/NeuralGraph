description: "metabolic network - 100 metabolites, 256 reactions, max 4 per reaction (Claude exploration)"
dataset: "metabolism"

simulation:
  n_metabolites: 100
  n_reactions: 256
  max_metabolites_per_reaction: 4

  n_neurons: 100 # set equal to n_metabolites for framework compatibility
  n_neuron_types: 1
  n_frames: 2880 # 2 days in minutes (2 * 24 * 60)
  delta_t: 1 # 1 minute per step
  start_frame: 0
  seed: 42

  connectivity_type: "none"
  connectivity_filling_factor: 1
  boundary: "no"
  dpos_init: 0

  # params not used by PDE_M1 but required by config schema
  params:
    - [1.0, 0.0, 1.0, 0.0, 1.0, 0.0]

  phi: "tanh"

graph_model:
  signal_model_name: "PDE_M1"
  particle_model_name: ""
  mesh_model_name: ""
  prediction: "first_derivative"

  # msg_mlp: input_size=2 (concentration + |stoich|), output_size=msg_dim
  input_size: 2
  output_size: 16
  hidden_dim: 32
  n_layers: 3

  input_size_update: 3
  n_layers_update: 3
  hidden_dim_update: 64

  aggr_type: "add"
  update_type: "none"

claude:
  n_epochs: 1
  data_augmentation_loop: 1000
  n_iter_block: 24
  ucb_c: 1.414
  node_name: "a100"

plotting:
  colormap: "tab20"
  arrow_length: 1
  xlim: [-1, 3]
  ylim: [-0.5, 2.5]

training:
  n_epochs: 1
  n_runs: 1
  device: "auto"

  batch_size: 8
  small_init_batch_size: False

  seed: 42

  data_augmentation_loop: 1000

  sparsity: "none"

  learning_rate_start: 1.0E-3       # lr for msg_mlp, rate_mlp, log_k
  learning_rate_embedding_start: 1.0E-4
  learning_rate_S_start: 1.0E-3    # lr for sto_sub, sto_all (0 = same as lr)

  coeff_S_L1: 0.0                  # L1 on sto_all (sparsity)
  coeff_S_L2: 0.0                  # L2 on sto_all
  coeff_mass_conservation: 0.0     # penalize non-zero column sums of S (mass balance)
